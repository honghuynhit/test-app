(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],{29:function(e,t,n){e.exports=n(58)},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(27),l=n.n(o),c=n(9),u=n(1),s=n(10),m=n.n(s),i=n(12),p=n(7),b=n(13),f=n.n(b),E=function(e){var t=e.onSubmitHandler,n=e.searchTerm,a=e.onInputChange,o=e.error;return r.a.createElement("form",{onSubmit:t},r.a.createElement("label",null,r.a.createElement("span",null,"Search for books"),r.a.createElement("input",{type:"search",placeholder:"microservice, restful design, etc.,",value:n,onChange:a,required:!0}),r.a.createElement("button",{type:"submit"},"Search")),o&&r.a.createElement("div",{style:{color:"red"}},"some error occurred, while fetching api"))},v=function(e){var t=e.loading,n=e.searchTerm;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("div",{style:{color:"green"}},'fetching books for "',r.a.createElement("strong",null,n),'"'))},h=function(e){if(!e)return"";if(e.length<=2)e=e.join(" and ");else if(e.length>2){var t=" and "+e.slice(-1);e.pop(),e=e.join(", "),e+=t}return e},g=function(e){var t=e.book;return r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("img",{alt:"".concat(t.volumeInfo.title," book"),src:"http://books.google.com/books/content?id=".concat(t.id,"&printsec=frontcover&img=1&zoom=1&source=gbs_api")}),r.a.createElement("div",null,r.a.createElement("h3",null,t.volumeInfo.title),r.a.createElement("p",null,h(t.volumeInfo.authors)),r.a.createElement("p",null,t.volumeInfo.publishedDate),r.a.createElement(c.b,{to:"test-app/book/".concat(t.id)},"Show details"))),r.a.createElement("hr",null))},d=function(e){var t=e.books;return r.a.createElement("ul",null,t.items.map((function(e,t){return r.a.createElement(g,{book:e,key:t})})))},k=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],o=t[1],l=Object(a.useState)({items:[]}),c=Object(p.a)(l,2),u=c[0],s=c[1],b=Object(a.useState)(!1),h=Object(p.a)(b,2),g=h[0],k=h[1],j=Object(a.useState)(!1),I=Object(p.a)(j,2),O=I[0],w=I[1],S=function(){var e=Object(i.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),k(!1),e.prev=2,e.next=5,f.a.get("".concat("https://www.googleapis.com/books/v1/volumes","?q=").concat(n));case 5:t=e.sent,s(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),k(!0);case 12:w(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{onSubmitHandler:function(e){e.preventDefault(),S()},onInputChange:function(e){o(e.target.value)},searchTerm:n,error:g}),r.a.createElement(v,{searchTerm:n,loading:O}),r.a.createElement(d,{books:u}))},j=function(e){var t,n=e.book;return r.a.createElement("section",null,r.a.createElement("div",null,r.a.createElement("img",{alt:"".concat(n.volumeInfo.title," book"),src:"http://books.google.com/books/content?id=".concat(n.id,"&printsec=frontcover&img=1&zoom=1&source=gbs_api")}),r.a.createElement("div",null,r.a.createElement("h3",null,r.a.createElement("strong",null,"Title:")," ",n.volumeInfo.title),r.a.createElement("p",null,r.a.createElement("strong",null,"Authors:")," ",h(n.volumeInfo.authors)),r.a.createElement("p",null,r.a.createElement("strong",null,"Published Date:")," ",n.volumeInfo.publishedDate),r.a.createElement("p",null,r.a.createElement("strong",null,"Publisher:")," ",n.volumeInfo.publisher),r.a.createElement("p",null,r.a.createElement("strong",null,"Page Count:")," ",n.volumeInfo.pageCount),r.a.createElement("div",{dangerouslySetInnerHTML:(t=n.volumeInfo.description,{__html:t})}))))},I=function(e){var t=e.match.params.bookId,n=Object(a.useState)(null),o=Object(p.a)(n,2),l=o[0],u=o[1],s=Object(a.useState)(!1),b=Object(p.a)(s,2),E=b[0],v=b[1],h=Object(a.useState)(!1),g=Object(p.a)(h,2),d=g[0],k=g[1];return Object(a.useEffect)((function(){(function(){var e=Object(i.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),v(!1),e.prev=2,e.next=5,f.a.get("".concat("https://www.googleapis.com/books/v1/volumes","/").concat(t));case 5:n=e.sent,u(n.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),v(!0);case 12:k(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/test-app/"},"Go back to search books"),d&&r.a.createElement("div",{style:{color:"green"}},"loading book detail for book ID: ",r.a.createElement("strong",null,t)),E&&r.a.createElement("div",{style:{color:"red"}},"some error occurred, while fetching api"),l&&r.a.createElement(j,{book:l}))},O=(n(57),function(){return r.a.createElement("div",null,"404 Page")}),w=function(){return r.a.createElement(c.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/test-app/",exact:!0,component:k}),r.a.createElement(u.a,{path:"/test-app/book/:bookId",exact:!0,component:I}),r.a.createElement(u.a,{component:O})))},S=document.getElementById("root");l.a.render(r.a.createElement(w,null),S)}},[[29,1,2]]]);
//# sourceMappingURL=main.d899ab1c.chunk.js.map