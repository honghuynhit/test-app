{"version":3,"sources":["components/bookSearchForm.js","components/loader.js","utils/index.js","components/booksList.js","pages/searchPage.js","components/bookDetail.js","pages/bookDetailPage.js","index.js"],"names":["BookSearchForm","onSubmitHandler","searchTerm","onInputChange","error","onSubmit","type","placeholder","value","onChange","required","style","color","Loader","loading","bookAuthors","authors","length","join","lastAuthor","slice","pop","Book","book","alt","volumeInfo","title","src","id","publishedDate","to","BooksList","books","items","map","index","key","SearchPage","useState","setSearchTerm","setBooks","setError","setLoading","fetchBooks","a","axios","get","result","data","e","preventDefault","target","BookDetail","description","publisher","pageCount","dangerouslySetInnerHTML","__html","BookDetailPage","bookId","match","params","setBook","useEffect","fetchBook","NoMatchRoute","App","path","exact","component","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.0c90aa5d.chunk.js","sourcesContent":["import React from \"react\";\n\nconst BookSearchForm = ({\n  onSubmitHandler,\n  searchTerm,\n  onInputChange,\n  error\n}) => {\n  return (\n    <form onSubmit={onSubmitHandler}>\n      <label>\n        <span>Search for books</span>\n        <input\n          type=\"search\"\n          placeholder=\"microservice, restful design, etc.,\"\n          value={searchTerm}\n          onChange={onInputChange}\n          required\n        />\n        <button type=\"submit\">Search</button>\n      </label>\n      {error && (\n        <div style={{ color: `red` }}>\n          some error occurred, while fetching api\n        </div>\n      )}\n    </form>\n  );\n};\n\nexport default BookSearchForm;\n","import React from \"react\";\n\nconst Loader = ({ loading, searchTerm }) => {\n  return (\n    <>\n      {loading && (\n        <div style={{ color: `green` }}>\n          fetching books for \"<strong>{searchTerm}</strong>\"\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Loader;\n","export const bookAuthors = authors => {\n  if (!authors) return \"\";\n  if (authors.length <= 2) {\n    authors = authors.join(\" and \");\n  } else if (authors.length > 2) {\n    let lastAuthor = \" and \" + authors.slice(-1);\n    authors.pop();\n    authors = authors.join(\", \");\n    authors += lastAuthor;\n  }\n  return authors;\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { bookAuthors } from \"../utils\";\n\nconst Book = ({ book }) => {\n  return (\n    <li>\n      <div>\n        <img\n          alt={`${book.volumeInfo.title} book`}\n          src={`http://books.google.com/books/content?id=${\n            book.id\n          }&printsec=frontcover&img=1&zoom=1&source=gbs_api`}\n        />\n        <div>\n          <h3>{book.volumeInfo.title}</h3>\n          <p>{bookAuthors(book.volumeInfo.authors)}</p>\n          <p>{book.volumeInfo.publishedDate}</p>\n          <Link to={`/test-app/book/${book.id}`}>Show details</Link>\n        </div>\n      </div>\n      <hr />\n    </li>\n  );\n};\n\nconst BooksList = ({ books }) => {\n  return (\n    <ul>\n      {books.items.map((book, index) => {\n        return <Book book={book} key={index} />;\n      })}\n    </ul>\n  );\n};\n\nexport default BooksList;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\n\nimport BookSearchForm from \"../components/bookSearchForm\";\nimport Loader from \"../components/loader\";\nimport BooksList from \"../components/booksList\";\n\nconst SearchPage = () => {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [books, setBooks] = useState({ items: [] });\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const API_BASE_URL = `https://www.googleapis.com/books/v1/volumes`;\n\n  const fetchBooks = async () => {\n    setLoading(true);\n    setError(false);\n    try {\n      const result = await axios.get(`${API_BASE_URL}?q=${searchTerm}`);\n      setBooks(result.data);\n    } catch (error) {\n      setError(true);\n    }\n    setLoading(false);\n  };\n\n  const onInputChange = e => {\n    setSearchTerm(e.target.value);\n  };\n\n  const onSubmitHandler = e => {\n    e.preventDefault();\n    fetchBooks();\n  };\n\n  return (\n    <>\n      <BookSearchForm\n        onSubmitHandler={onSubmitHandler}\n        onInputChange={onInputChange}\n        searchTerm={searchTerm}\n        error={error}\n      />\n      <Loader searchTerm={searchTerm} loading={loading} />\n      <BooksList books={books} />\n    </>\n  );\n};\n\nexport default SearchPage;\n","import React from \"react\";\n\nimport { bookAuthors } from \"../utils\";\n\nconst BookDetail = ({ book }) => {\n  const createDescMarkup = description => {\n    return { __html: description };\n  };\n\n  return (\n    <section>\n      <div>\n        <img\n          alt={`${book.volumeInfo.title} book`}\n          src={`http://books.google.com/books/content?id=${\n            book.id\n          }&printsec=frontcover&img=1&zoom=1&source=gbs_api`}\n        />\n        <div>\n          <h3>\n            <strong>Title:</strong> {book.volumeInfo.title}\n          </h3>\n          <p>\n            <strong>Authors:</strong> {bookAuthors(book.volumeInfo.authors)}\n          </p>\n          <p>\n            <strong>Published Date:</strong> {book.volumeInfo.publishedDate}\n          </p>\n          <p>\n            <strong>Publisher:</strong> {book.volumeInfo.publisher}\n          </p>\n          <p>\n            <strong>Page Count:</strong> {book.volumeInfo.pageCount}\n          </p>\n          <div\n            dangerouslySetInnerHTML={createDescMarkup(\n              book.volumeInfo.description\n            )}\n          />\n        </div>\n      </div>\n    </section>\n  );\n};\n\nexport default BookDetail;\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\n\nimport BookDetail from \"../components/bookDetail\";\n\nconst BookDetailPage = ({ match }) => {\n  const {\n    params: { bookId }\n  } = match;\n  const [book, setBook] = useState(null);\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const API_BASE_URL = `https://www.googleapis.com/books/v1/volumes`;\n    const fetchBook = async () => {\n      setLoading(true);\n      setError(false);\n      try {\n        const result = await axios.get(`${API_BASE_URL}/${bookId}`);\n        setBook(result.data);\n      } catch (error) {\n        setError(true);\n      }\n      setLoading(false);\n    };\n    // Call the API\n    fetchBook();\n  }, [bookId]);\n\n  return (\n    <>\n      <Link to={`/test-app/`}>Go back to search books</Link>\n      {loading && (\n        <div style={{ color: `green` }}>\n          loading book detail for book ID: <strong>{bookId}</strong>\n        </div>\n      )}\n      {error && (\n        <div style={{ color: `red` }}>\n          some error occurred, while fetching api\n        </div>\n      )}\n      {book && <BookDetail book={book} />}\n    </>\n  );\n};\n\nexport default BookDetailPage;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport SearchPage from \"./pages/searchPage.js\";\nimport BookDetailPage from \"./pages/bookDetailPage\";\nimport \"./styles.css\";\n\nconst NoMatchRoute = () => <div>404 Page</div>;\n\nconst App = () => {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/test-app/\" exact component={SearchPage} />\n        <Route path=\"/book/:bookId\" exact component={BookDetailPage} />\n        <Route component={NoMatchRoute} />\n      </Switch>\n    </Router>\n  );\n};\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}